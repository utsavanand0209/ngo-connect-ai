{"ast":null,"code":"var _jsxFileName = \"/Users/utsavanand/Ngo-Connect/frontend/src/components/Navbar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Navbar() {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  useEffect(() => {\n    const checkAuth = async () => {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setIsAuthenticated(false);\n        return;\n      }\n      try {\n        // Use /api/auth/me to check if token is valid\n        const res = await fetch('http://localhost:5001/api/auth/me', {\n          method: 'GET',\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (res.ok) {\n          setIsAuthenticated(true);\n        } else {\n          localStorage.removeItem('token');\n          setIsAuthenticated(false);\n        }\n      } catch {\n        setIsAuthenticated(false);\n      }\n    };\n    checkAuth();\n    const handleAuthChange = () => {\n      checkAuth();\n    };\n    window.addEventListener('authChange', handleAuthChange);\n    window.addEventListener('storage', handleAuthChange);\n    return () => {\n      window.removeEventListener('authChange', handleAuthChange);\n      window.removeEventListener('storage', handleAuthChange);\n    };\n  }, []);\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    window.dispatchEvent(new Event('authChange'));\n    window.location.href = '/';\n  };\n  return /*#__PURE__*/_jsxDEV(\"nav\", {\n    className: \"bg-blue-600 text-white shadow p-4 flex gap-6 items-center flex-wrap\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      className: \"font-bold text-lg\",\n      children: \"NGO Connect\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/ngos\",\n      className: \"hover:underline\",\n      children: \"NGOs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/campaigns\",\n      className: \"hover:underline\",\n      children: \"Campaigns\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/chatbot\",\n      className: \"hover:underline\",\n      children: \"Chatbot\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/ngo/profile\",\n      className: \"hover:underline\",\n      children: \"NGO Verification\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 27\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ml-auto flex gap-4\",\n      children: isAuthenticated ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/dashboard\",\n          className: \"hover:underline\",\n          children: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"hover:underline cursor-pointer\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          className: \"hover:underline\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          className: \"hover:underline\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(Navbar, \"JkS3Meyzlj18m4l86SBr9YDqEkQ=\");\n_c = Navbar;\nvar _c;\n$RefreshReg$(_c, \"Navbar\");","map":{"version":3,"names":["React","useState","useEffect","Link","jsxDEV","_jsxDEV","Fragment","_Fragment","Navbar","_s","isAuthenticated","setIsAuthenticated","checkAuth","token","localStorage","getItem","res","fetch","method","headers","Authorization","ok","removeItem","handleAuthChange","window","addEventListener","removeEventListener","handleLogout","dispatchEvent","Event","location","href","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/utsavanand/Ngo-Connect/frontend/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function Navbar() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setIsAuthenticated(false);\n        return;\n      }\n      try {\n        // Use /api/auth/me to check if token is valid\n        const res = await fetch('http://localhost:5001/api/auth/me', {\n          method: 'GET',\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        if (res.ok) {\n          setIsAuthenticated(true);\n        } else {\n          localStorage.removeItem('token');\n          setIsAuthenticated(false);\n        }\n      } catch {\n        setIsAuthenticated(false);\n      }\n    };\n\n    checkAuth();\n\n    const handleAuthChange = () => {\n      checkAuth();\n    };\n    window.addEventListener('authChange', handleAuthChange);\n    window.addEventListener('storage', handleAuthChange);\n    return () => {\n      window.removeEventListener('authChange', handleAuthChange);\n      window.removeEventListener('storage', handleAuthChange);\n    };\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    window.dispatchEvent(new Event('authChange'));\n    window.location.href = '/';\n  };\n\n  return (\n    <nav className=\"bg-blue-600 text-white shadow p-4 flex gap-6 items-center flex-wrap\">\n      <Link to=\"/\" className=\"font-bold text-lg\">NGO Connect</Link>\n      <Link to=\"/ngos\" className=\"hover:underline\">NGOs</Link>\n      <Link to=\"/campaigns\" className=\"hover:underline\">Campaigns</Link>\n      <Link to=\"/chatbot\" className=\"hover:underline\">Chatbot</Link>\n      {isAuthenticated && <Link to=\"/ngo/profile\" className=\"hover:underline\">NGO Verification</Link>}\n      <div className=\"ml-auto flex gap-4\">\n        {isAuthenticated ? (\n          <>\n            <Link to=\"/dashboard\" className=\"hover:underline\">Dashboard</Link>\n            <button\n              onClick={handleLogout}\n              className=\"hover:underline cursor-pointer\"\n            >\n              Logout\n            </button>\n          </>\n        ) : (\n          <>\n            <Link to=\"/login\" className=\"hover:underline\">Login</Link>\n            <Link to=\"/register\" className=\"hover:underline\">Register</Link>\n          </>\n        )}\n      </div>\n    </nav>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}